# Sipros3

Sipros is a database-searching algorithm for peptide and protein identification in shotgun proteomics.

**Key applications:**

1. Regular database searching

2. Stable isotope probing

3. Identification of post-translational modifications

4. Identification of amino acid mutations.

**Unique features:**

1. Scalable to high-performance computing

2. Full integration with ProRata for quantification

## Installation

### Window

Double click

`Sipros-ProRata_V3.0_Setup.exe`

### Linux

`tar -zxzf Sipros-ProRata_V3.0_Linux.tar.gz`

`cd Sipros-ProRata_V3.0_Linux/src`

if Sipros will be used on a desktop, you just need Openmp feature. Please execute

`make`

You will get binary file **Sipros_openmp**

If you need the MPI/OpenMP feature of Sipros, please execute

`make -f  MPIMakefile`

You will get binary file **Sipros_openmp_mpi**

In this readme, we will use Sipros to refer to the binary file. Please note that the current makefile uses g++ by default. If you want to switch to other compilers or add flags, please update the corresponding makefile.

## Usage

### Configuration file setup

#### Configure file setting

\# is for comments.

[] is used for section name, e.g., [Section Name].

= is used for assigning features, e.g., Search_Type = Regular

{} is used for specifying key value, e.g., PTM{!} = NQR

Currently, there are 35 symbols available for specifying ptms, which are

~ ! @ $ % ^ & * ( ) _ + ` – | \ : ” ; ‘ < > ? . /

1 2 3 4 5 6 7 8 9 0

Please don’t use these reserved symbols: { } \# [ ] = ,

Neutral loss can be specified by PTM{1to2}, e.g., PTM{>to|} = ST. If symbol2 is nothing, it can be specified by PTM{1to}, e.g., PTM{>to} = ST.

### Regular searches

1. Create configure file

   Please refer to http://code.google.com/p/sipros/wiki/ConfigureFileSetting for technical details. An example is available athttp://code.google.com/p/sipros/source/browse/trunk/Sipros3.0/Sipros-src/SiprosConfigRegular.cfg

2. FT1 and FT2 files

   Please refer to http://code.google.com/p/raxport/ for generating FT1 and FT2 files

3. Pre-processing

  The current version of scripts has been tested using Python 2.7.2, so if you are using different versions of Python (2.6.X or 3.X), you are encouraged to try with Python 2.7.2. If you want to use reverseseq.py, Biopython is required.

  `cd  Sipros-ProRata_V3.0_Linux/scripts`
Generate reverse sequence

   `python reverseseq.py -i original_database_file -o output_database_file`
The step will generate a new database file with reverse sequences.

4. Run Sipros

   The easiest way for running Sipros is

   `./Sipros -c configurefilename -w workingdirectory`
   Sipros will use all .FT2 files in the working directory. Results (.sip files) will be saved on working directory by default. You can specify output directory by specifying `-o`. If you just want to specify one FT2 file, you can use `-f` like,

   `./Sipros -c configurefilename -f FT2filename`
   If you want to slice screen output, please add `-s`. In `Sipros_openmp_mpi`, you are allowing to specify `-g` like

   `./Sipros -g configurefiledirectory -w workingdirectory`
   if you have many configure files.

   Please note that you can get help information by flag `-h`.

5. Post-processing

   The current version of scripts has been tested using Python 2.7.2, so if you are using different versions of Python (2.6.X or 3.X), you are encouraged to try with Python 2.7.2.

   `cd  Sipros-ProRata_V3.0_Linux/scripts`

6. Peptide filtering

   `python sipros_peptides_filtering.py -c configurefile -w workingdirectory`
All sip files, output files of Sipros, should be in the working directory. The step will generate related `psm.txt` and `pep.txt`

7. Peptide assembling

   `python sipros_peptides_assembling.py -c configurefile -w workingdirectory`
   The `psm.txt` and `pep.txt` files generated by the filtering step will be used in this step. And the step will generate `pro.txt`, `pro2pep.txt`, and `pro2psm.txt` files.

### Post-translational Modification

Pro2ptm (Biopython needs to be installed)

`python pro2ptm.py  -c configurefile -w workingdirectory`

Script `pro2ptm.py` will generate `pro2ptm.txt` file

If you also need `pro2ptm.prorata.txt` file, please run `pro2ptm.py` first and add ProRata_LabelFree_Peptide.txt, a output file of ProRata, to the working directory. Then run

`python prorata_pro2ptm.py -w workingdirectory`

This step will generate pro2ptm.prorata.txt file.

### Stable isotope probing

`python ClusterSip.py  -c configurefile -w workingdirectory`

This step will generate pro.cluster.txt and pro2psm.cluster.txt files.

### Isobaric chemical labeling

`python isobaric.py  -c configurefile -w workingdirectory`

`python pro2isobaric.py -c configurefile -w workingdirectory`

This step will `generate pro.isobaric.txt`, psm.isobaric.txt, and pro2psm.isobaric.txt files.

